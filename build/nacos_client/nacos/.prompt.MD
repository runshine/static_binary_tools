请使用python代码，帮我实现如下需求：
请使用python代码，帮我实现如下需求：
1、该代码是一个单文件的WEB服务器，对外仅仅提供API的操作服务，如果有数据库需求，请使用本地的sqlite数据库（保存在当前文件所在的目录下）
2、该代码提供一个参数，参数中指定WEB服务器使用的JSON配置文件，配置文件中可以指定监听的端口、API前缀、API 认证Token、是否后台运行、日志保存目录、日志级别、docker-compose服务的保存的根目录、docker-compose的二进制文件路径、docker的二进制路径、dockerd的socket通信路径等信息
3、WEB服务器启动时，按照配置文件初始化服务，然后读取数据库中记录的开启的服务，然后启动服务；
4、WEB服务器管理的服务均是以docker-compose的yaml文件描述的服务，对外提供服务的增、删、查、改、启动、停止等管理和配置功能；
5、服务的增加支持两种方式：方式一，如果是不含有任何附属的文件内容，仅可以通过一个yaml配置上传上传的，上传完成后，解析yaml文件，获取服务名称，然后在配置文件中指定的服务的根路径下，创建以服务命名的文件夹，然后将yaml命名为service.yaml，并在数据库中插入一条服务的记录；方式二：如果服务含有额外的要挂载容器中的文件，则允许上传压缩包文件，然后将压缩包文件解压到配置文件中指定的服务的根路径下以服务命名的文件夹中，保持压缩包路径结构与文件夹路径结构一致，然后解析service.yaml在数据库中插入一条服务的记录，如果此过程中有出错要执行清理操作
6、删除时要先检查服务的运行状态，然后服务已启动，请先停止，停止完成后再执行删除操作，要清理文件夹和数据库的记录
7、查询时提供包括服务的运行状态，需要实时检查相关容器是否运行，提供docker运行的详细信息；
8、提供服务的修改的配置功能，修改仅支持对服务是否开启的修改，不支持服务内容的修改，服务的配置要写入数据库，服务配置更改后不要开启获取关闭服务，需要手动进行；
9、启动对服务的启动、停止、重新创建、更新镜像、日志查询、运行命令等功能，运行命令时需要指定对应的容器，UID等
6、提供WEB服务器的升级接口，支持上传新的单个python文件，替换当前运行的代码；更新时要执行WEB服务器的重启，但不执行docker-compose提供的服务重启；
7、在WEB服务器启动对应的服务时，要检查服务是否已经在运行，如果服务包含的容器全部正常，并且数量也是正常的，则不执行启动，如果缺少容器、或者容器状态不正常，则执行服务的重建流程（先删除在UP），如果没有任何容器在运行则执行启动；
8、提供web服务健康检测的功能，检测WEB服务是否正常；
9、提供数据校验API，校验服务的文件状态与数据库记录否一致
10、提供服务校验API，校验服务是否按照配置的状态一致（使能/非使能），校验已使能的服务的所有的容器是否都是健康运行的，而非使能的服务是否都已经处于关闭状态